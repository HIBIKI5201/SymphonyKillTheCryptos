# 実装
コンボゲージを追加。

カードの発動に成功するとコンボが上昇し、コンボが一定量を超えるたびにプレイヤーのアニメーションスピードが増加する。

全てのスタックされたアニメーションを実行しきるか、戦闘が終了するとコンボがリセットされる。

全てのスタックされたアニメーションを実行し終わってからコンボがリセットされるまでに5秒の猶予を与える。
こうする事で、弱いがコストが低いスキルをコンボの繋ぎとして価値が生まれる。

### 実装計画

1.  **コンボカウンターのデータ構造定義:**
    *   現在のコンボ数 (`CurrentComboCount`)
    *   最大コンボ数 (`MaxComboCount`)
    *   コンボリセットタイマー (`ComboResetTimer`)

2.  **コンボカウンターのロジック実装:**
    *   **コンボ増加:**
        *   カードの発動成功時に `CurrentComboCount` をインクリメントする。
    *   **アニメーション速度増加:**
        *   `CurrentComboCount` が一定の閾値 (`ComboThreshold`) を超えるごとに、プレイヤーのアニメーション速度を増加させる。
        *   速度増加は段階的に行い、上限を設ける。
    *   **コンボリセット条件:**
        *   戦闘終了時。
        *   全てのスタックされたアニメーションが実行され終わってから5秒経過後（`ComboResetTimer`を使用）。
    *   **コンボリセット処理:**
        *   `CurrentComboCount` を0にリセットする。
        *   アニメーション速度の増加をリセットする。

3.  **UI表示の実装:**
    *   コンボカウンターの値を表示するUIエレメントを作成する。
    *   `CurrentComboCount` の更新に合わせてUI表示をリアルタイムで更新する。
    *   コンボリセットタイマーの視覚的な表示（オプション）。

4.  **既存システムとの連携:**
    *   カードシステム: カード発動成功時のイベントフックを実装し、コンボカウンターを更新する。
    *   アニメーションシステム: プレイヤーのアニメーション速度を動的に変更するAPIを使用する。
    *   戦闘システム: 戦闘終了イベントをフックし、コンボカウンターをリセットする。

5.  **テスト計画:**
    *   単体テスト: コンボ増加、リセットロジック、タイマー機能。
    *   統合テスト: カードシステム、アニメーションシステム、戦闘システムとの連携。
    *   UI表示テスト: 正しい値が表示されるか、更新が適切に行われるか。
